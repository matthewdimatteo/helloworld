pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- misc series
-- example 01: life meter
-- by matthew dimatteo

-- runs once at start
function _init()
	gameover = false
	lives = 10
	health = 100
end -- end _init()

-- loops 30x/sec
function _update()
 
 	-- press x to restart
 	if gameover == true then
  		if btn(5) then
   			_init()
		end -- end if btn(5)
		
	-- play the game
 	else

		-- press down arrow to damage
	 	if btn(3) then
 	 		health -=10
 		end -- end if btn(3)
 
 		-- no health
 		if health <= 0 then
 			lives -= 1 -- substract a life
 
	 		-- no lives
	 		if lives < 1 then
 				health = 0
 	 		gameover = true -- gameover
		 	else
 		 		health = 100 -- reset health
	 		end -- end if lives < 1
		end -- end if health <= 0

 	end -- end if/else gameover
end -- end _update

-- runs 30x/sec
function _draw()
	cls()
	if gameover == true then
		print("game over!",45,50,8)
		print("press x to restart",28,60,10)
	else
 
		-- hud
		print("press down arrow to lose health",2,2,8)
		print("health: "..health,2,10,8)

		-- *** draw sprite for each life ***
		-- *** this is where the magic happens ***
		for i = 1, lives do
			spr(1,(i*9)-7,18)
		end -- end for
 
	end -- end if gameover 
end -- end _draw()
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700088888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
